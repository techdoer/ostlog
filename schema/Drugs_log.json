{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"id": "http://ostlog.org/schema/Drugs_log.json",
	"title": "Drugs log",
	"description": "Each entry characterizes a dose of medication taken at pre-defined intervals",
	"type": "object",
	"properties": {
		"id": {
			"type": "integer"
		},
		"meta_id": {
			"type": "integer",
			"description": "reference to entry's metadata"
		},
		"calendar_date_id": {
			"type": "string",
			"description": "YYYYMMDD formatted date when first dose taken."
		},
		"timestamp": {
			"type ": "string ",
			"description": "HH:MM:SS formatted time when first dose taken."
		},
		"location_id": {
			"type": "integer",
			"description": "location where observation was observed."
		},
		"domain": {
			"$ref": "definitions.json#/domain"
		},
		"person_id": {
			"type": "integer",
			"description": "the person taking the medication."
		},
		"diagnosis_id": {
			"type": "integer",
			"description": "Reference to the diagnosis requiring the medication."
		},
		"status": {
			"$ref": "definitions.json#/status"
		},
		"drug_atc_code": {
			"type": "string",
			"description": "The Anatomical Therapeutic Chemical (ATC) Classification System of medications - a reference code."
		},
		"admin_route": {
			"type": "string",
			"enum": ["implant", "inhale", "instill", "oral", "nasal", "parenteral", "rectal", "sublingual", "transdermal", "vaginal"],
			"description": "equivalent to ATC classification's Route of administration (Adm.R)"
		},
		"dosage_amount": {
			"type": "number",
			"description": "a scalar indicating quantity of dose in specified units"
		},
		"dosage_units": {
			"type": "string",
			"enum": ["g", "mg", "mcg", "U", "TU", "MU", "mmol", "ml"],
			"description": "equivalent to ATC classification's dosage units."
		},
		"duration": {
			"type": "integer",
			"description": "the period in which to administer a single dosage (e.g. over 30 minutes)."
		},
		"duration_units": {
			"$ref": "definitions.json#/time_units"
		},
		"body_site_code": {
			"type": "integer",
			"description": "Body site administered to.  From FHIR/SNOWMED CT's Value Set http://hl7.org/fhir/ValueSet/approach-site-codes"
		},
		"dosage_frequency": {
			"type": "integer",
			"description": ""
		},
		"dosage_frequence_max": {
			"type": "integer",
			"description": ""
		},
		"period": {
			"type": "integer",
			"description": ""
		},
		"period_units": {
			"$ref": "definitions.json#/time_units"
		},
		"period_max": {
			"type": "integer",
			"description": ""
		},
		"days_of_week": {
			"type": "string",
			"description": "mon | tue | wed | thu | fri | sat | sun"
		},
		"when": {
			"type": "string",
			"enum": ["HS", "WAKE", "C", "CM", "CD", "CV", "AC", "ACM", "ACD", "ACV", "IC", "ICD", "ICM", "ICV", "PC", "PCM", "PCD", "PCV"],
			"description": "when in the day to administer dosage - from timing event http://hl7.org/fhir/v3/TimingEvent"
		},
		"length_days": {
			"type": "integer",
			"description": "the length in days from start to finish for taking the medication"
		},
		"was_effective": {
			"$ref": "definitions.json#/likert_scale"
		},
		"effectiveness_remarks": {
			"type": "string"
		},
		"side_effect_remarks": {
			"type": "string"
		},
		"remarks": {
			"type": "string"
		}
	},
	"required": ["id", "calendar_date_id", "timestamp", "location_id", "domain", "person_id", "status", "drug_atc_code", "admin_route", "dosage_amount", "dosage_units"]
}
